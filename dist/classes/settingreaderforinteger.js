"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SettingReaderForInteger = void 0;
const settingreader_1 = require("./settingreader");
class SettingReaderForInteger extends settingreader_1.SettingReader {
    static regex = /^[+-]?[0-9]+$/;
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //
    // Function:    convertRawValueToUsableValue
    //
    // Description: Convert raw string input value into output value in desired datatype.
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    convertRawValueToUsableValue(rawValue) {
        rawValue = this.normalizeTrim(rawValue);
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Convert to int
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        let value;
        try {
            if (!SettingReaderForInteger.regex.test(rawValue))
                throw 'invalid';
            value = parseInt(rawValue);
            if (isNaN(value))
                throw 'invalid';
        }
        catch (e) {
            this.invalidValueError(`Expecting valid integer (e.g. +735).`);
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Validate constraints before returning
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        this.validateValueConstraints(value);
        return value;
    }
}
exports.SettingReaderForInteger = SettingReaderForInteger;
//# sourceMappingURL=settingreaderforinteger.js.map